@model AddReviewViewModel

@{
    ViewData["Title"] = "Add Review";
}

<div class="card card-primary">
    <div class="card-header">
        <h3 class="card-title">@ViewData["Title"]</h3>
    </div>
    <form asp-controller="Review" asp-action="AddReview" method="post">
        <input asp-for="@Model.CourseId" hidden>
        <input asp-for="@Model.UserId" hidden>
        <div class="card-body">
            <div class="form-group">
                <span data-vote="1" class="fa fa-star checked"></span>
                <span data-vote="2" class="fa fa-star checked"></span>
                <span data-vote="3" class="fa fa-star checked"></span>
                <span data-vote="4" class="fa fa-star checked"></span>
                <span data-vote="5" class="fa fa-star checked"></span>
                <input asp-for="@Model.Rating" id="rating" hidden/>
                <span asp-validation-for="@Model.Rating" class="small text-danger"></span>
            </div>
            <div class="form-group">
                <label asp-for="@Model.Comment"></label>
                <textarea asp-for="@Model.Comment" class="form-control"></textarea>
                <span asp-validation-for="@Model.Comment" class="small text-danger"></span>
            </div>
        </div>

        <div class="card-footer">
            <button type="submit" class="btn btn-primary">Add Review</button>
        </div>
    </form>
</div>

@section Scripts {
    <script>
        $("span[data-vote]").each(function (el) {
            $(this).click(function () {
                $("#rating").val($(this).attr("data-vote"));
            });
        });
    </script>
}